.PHONY: \
	install up clean destroy status ssh-master ssh-worker cluster-info help \
	deploy-p2 clean-p2 status-p2 test-p2 install-p3 setup-p3 deploy-p3 \
	deploy-p3-full status-p3 port-forward-p3 test-p3 clean-p3 start-all stop-all \
	clean-vbox dockerhub-secret start-p1 stop-p1 test-p1

# Variables
VAGRANT_CMD = vagrant
VB_CMD = VBoxManage
HOST_IP = 192.168.56.110
KUBECONFIG_P2 = ../confs/k3s.yaml
VM_MASTER_NAME = edetohS
VM_WORKER_NAME = edetohSW
ENV_FILE = ../../.env

ifneq (,$(wildcard $(ENV_FILE)))
include $(ENV_FILE)
export DOCKERHUB_USERNAME
export DOCKERHUB_TOKEN
export DOCKERHUB_EMAIL
endif
RED = \033[0;31m
GREEN = \033[0;32m
YELLOW = \033[1;33m
BLUE = \033[0;34m
NC = \033[0m

# Installation et configuration initiale
install:
	@echo "$(GREEN)üöÄ Installation d'Inception of Things...$(NC)"
	@chmod +x install.sh
	@cd .. && ./scripts/install.sh

up:
	@echo "$(GREEN)üöÄ D√©marrage du cluster K3s...$(NC)"
	@mkdir -p ../confs
	@chmod +x *.sh 2>/dev/null || true
	@$(MAKE) clean-vbox
	@echo "$(BLUE)üì¶ D√©marrage du master node...$(NC)"
	@cd .. && $(VAGRANT_CMD) up edetohS
	@echo "$(GREEN)‚úÖ Master d√©marr√© !$(NC)"
	@echo "$(BLUE)üöÄ D√©marrage du worker node...$(NC)"
	@cd .. && $(VAGRANT_CMD) up edetohSW
	@echo "$(GREEN)üéâ Cluster K3s op√©rationnel !$(NC)"
	@$(MAKE) cluster-info

# Nettoyage complet
clean:
	@echo "$(RED)üßπ Nettoyage complet...$(NC)"
	@$(MAKE) clean-p2 || true
	@$(MAKE) clean-p3 || true
	@cd .. && $(VAGRANT_CMD) destroy -f || true
	@$(MAKE) clean-vbox
	@echo "$(YELLOW)üìÅ Suppression des fichiers temporaires...$(NC)"
	@rm -f ../confs/node-token ../confs/k3s.yaml
	@rm -rf ../.vagrant
	@echo "$(GREEN)‚úÖ Nettoyage termin√© (P1, P2, P3)!$(NC)"

# Arr√™t complet (toutes les parties)
stop-all:
	@echo "$(RED)üõë Arr√™t de toutes les parties...$(NC)"
	@$(MAKE) clean
	@echo "$(GREEN)‚úÖ Tout arr√™t√© et nettoy√© !$(NC)"

# D√©marrage complet (toutes les parties)
start-all:
	@echo "$(GREEN)üöÄ D√©marrage complet de toutes les parties...$(NC)"
	@$(MAKE) up
	@$(MAKE) deploy-p2
	@$(MAKE) deploy-p3-full
	@echo "$(GREEN)üéâ Toutes les parties sont d√©marr√©es !$(NC)"
	@echo "$(BLUE)üåê P1/P2: http://app1.com, http://app2.com, http://$(HOST_IP)$(NC)"
	@echo "$(BLUE)üåê P3: ArgoCD http://localhost:8080$(NC)"
	@echo ""
	@echo "$(BLUE)‚è≥ Sleep 50$(NC)"
	@sleep 50
	@echo "$(YELLOW)üß™ Lancement du PF P3 (port-forward wil-playground)...$(NC)"
	@$(MAKE) test-p3

# ===============================
# Commandes sp√©cifiques P1
# ===============================

# D√©marrage P1 uniquement
start-p1:
	@echo "$(GREEN)üöÄ D√©marrage de la partie 1 (Cluster K3s)...$(NC)"
	@$(MAKE) up
	@echo "$(GREEN)‚úÖ Partie 1 d√©marr√©e avec succ√®s !$(NC)"
	@$(MAKE) test-p1

# Arr√™t P1 uniquement
stop-p1:
	@echo "$(RED)üõë Arr√™t de la partie 1...$(NC)"
	@cd .. && $(VAGRANT_CMD) destroy -f || true
	@$(MAKE) clean-vbox
	@rm -f ../confs/node-token ../confs/k3s.yaml
	@rm -rf ../.vagrant
	@echo "$(GREEN)‚úÖ Partie 1 arr√™t√©e et nettoy√©e !$(NC)"

# Test P1 uniquement
test-p1:
	@echo "$(BLUE)üß™ Test de la partie 1 (Cluster K3s)$(NC)"
	@echo "$(YELLOW)=== Test de connectivit√© des n≈ìuds ===$(NC)"
	@if cd .. && $(VAGRANT_CMD) ssh edetohS -c "sudo k3s kubectl get nodes" 2>/dev/null | grep -q "Ready"; then \
		echo "$(GREEN)‚úÖ Cluster K3s op√©rationnel$(NC)"; \
	else \
		echo "$(RED)‚ùå Cluster K3s non fonctionnel$(NC)"; \
		exit 1; \
	fi
	@echo ""
	@echo "$(YELLOW)=== Test des n≈ìuds ===$(NC)"
	@cd .. && $(VAGRANT_CMD) ssh edetohS -c "sudo k3s kubectl get nodes -o wide" 2>/dev/null || echo "$(RED)‚ùå Impossible de r√©cup√©rer les n≈ìuds$(NC)"
	@echo ""
	@echo "$(YELLOW)=== Test des pods syst√®me ===$(NC)"
	@cd .. && $(VAGRANT_CMD) ssh edetohS -c "sudo k3s kubectl get pods -n kube-system" 2>/dev/null || echo "$(RED)‚ùå Impossible de r√©cup√©rer les pods$(NC)"
	@echo ""
	@echo "$(YELLOW)=== V√©rification des IPs ===$(NC)"
	@echo "$(BLUE)Server (edetohS):$(NC)"
	@cd .. && $(VAGRANT_CMD) ssh edetohS -c "ip addr show eth1 | grep 'inet '" 2>/dev/null || echo "$(RED)‚ùå IP Server introuvable$(NC)"
	@echo "$(BLUE)Worker (edetohSW):$(NC)"
	@cd .. && $(VAGRANT_CMD) ssh edetohSW -c "ip addr show eth1 | grep 'inet '" 2>/dev/null || echo "$(RED)‚ùå IP Worker introuvable$(NC)"
	@echo ""
	@echo "$(GREEN)üéâ Tests P1 termin√©s !$(NC)"

# Destruction des VMs uniquement
destroy:
	@echo "$(RED)üõë Destruction des VMs...$(NC)"
	@cd .. && $(VAGRANT_CMD) destroy -f
	@$(MAKE) clean-vbox

# Statut des machines
status:
	@echo "$(BLUE)üìä Statut des machines :$(NC)"
	@cd .. && $(VAGRANT_CMD) status

# SSH vers le master
ssh-master:
	@echo "$(GREEN)üîë Connexion SSH vers le master...$(NC)"
	@cd .. && $(VAGRANT_CMD) ssh edetohS

# SSH vers le worker
ssh-worker:
	@echo "$(GREEN)üîë Connexion SSH vers le worker...$(NC)"
	@cd .. && $(VAGRANT_CMD) ssh edetohSW

# Informations sur le cluster
cluster-info:
	@echo "$(BLUE)üîç Informations sur le cluster K3s :$(NC)"
	@echo "$(YELLOW)=== N≈ìuds du cluster ===$(NC)"
	@cd .. && $(VAGRANT_CMD) ssh edetohS -c "sudo k3s kubectl get nodes -o wide" 2>/dev/null || echo "$(RED)‚ùå Cluster non accessible$(NC)"
	@echo ""
	@echo "$(YELLOW)=== Pods syst√®me ===$(NC)"
	@cd .. && $(VAGRANT_CMD) ssh edetohS -c "sudo k3s kubectl get pods -A" 2>/dev/null || echo "$(RED)‚ùå Impossible de r√©cup√©rer les pods$(NC)"

# D√©ployer P2 sur ce cluster
deploy-p2:
	@echo "$(GREEN)üöÄ D√©ploiement des applications P2 sur ce cluster K3s$(NC)"
	@if [ ! -f $(KUBECONFIG_P2) ]; then \
		echo "$(RED)‚ùå Cluster K3s non d√©marr√©$(NC)"; \
		echo "$(YELLOW)   D√©marrez le cluster d'abord: make up$(NC)"; \
		exit 1; \
	fi
	@$(MAKE) dockerhub-secret
	@echo "$(BLUE)‚ÑπÔ∏è  Correction de l'adresse du serveur dans kubeconfig...$(NC)"
	@sed -i 's|server: https://127.0.0.1:6443|server: https://$(HOST_IP):6443|g' $(KUBECONFIG_P2)
	@echo "$(BLUE)‚ÑπÔ∏è  V√©rification de la connectivit√©...$(NC)"
	@if ! nc -z $(HOST_IP) 6443 2>/dev/null; then \
		echo "$(RED)‚ùå Cluster non accessible$(NC)"; \
		exit 1; \
	fi
	@echo "$(BLUE)üì¶ D√©ploiement de app1...$(NC)"
	@KUBECONFIG=$(KUBECONFIG_P2) kubectl apply -f ../../p2/confs/app1-deployment.yaml --validate=false
	@KUBECONFIG=$(KUBECONFIG_P2) kubectl rollout status deployment/app1-deployment --timeout=120s
	@echo "$(BLUE)üì¶ D√©ploiement de app2...$(NC)"
	@KUBECONFIG=$(KUBECONFIG_P2) kubectl apply -f ../../p2/confs/app2-deployment.yaml --validate=false
	@KUBECONFIG=$(KUBECONFIG_P2) kubectl rollout status deployment/app2-deployment --timeout=120s
	@echo "$(BLUE)üì¶ D√©ploiement de app3...$(NC)"
	@KUBECONFIG=$(KUBECONFIG_P2) kubectl apply -f ../../p2/confs/app3-deployment.yaml --validate=false
	@KUBECONFIG=$(KUBECONFIG_P2) kubectl rollout status deployment/app3-deployment --timeout=120s
	@echo "$(BLUE)üåê Configuration de l'Ingress...$(NC)"
	@KUBECONFIG=$(KUBECONFIG_P2) kubectl apply -f ../../p2/confs/ingress.yaml --validate=false
	@echo "$(GREEN)‚úÖ Applications P2 d√©ploy√©es avec succ√®s!$(NC)"
	@echo ""
	@echo "$(BLUE)üåê Applications accessibles via:$(NC)"
	@echo "  ‚Ä¢ http://app1.com (ajoutez '$(HOST_IP) app1.com' √† /etc/hosts)"
	@echo "  ‚Ä¢ http://app2.com (ajoutez '$(HOST_IP) app2.com' √† /etc/hosts)"
	@echo "  ‚Ä¢ http://$(HOST_IP) (app3 par d√©faut)"

# Supprimer les applications P2
clean-p2:
	@echo "$(YELLOW)üßπ Suppression des applications P2$(NC)"
	@if [ -f $(KUBECONFIG_P2) ]; then \
		KUBECONFIG=$(KUBECONFIG_P2) kubectl delete -f ../../p2/confs/ingress.yaml --ignore-not-found=true; \
		KUBECONFIG=$(KUBECONFIG_P2) kubectl delete -f ../../p2/confs/app1-deployment.yaml --ignore-not-found=true; \
		KUBECONFIG=$(KUBECONFIG_P2) kubectl delete -f ../../p2/confs/app2-deployment.yaml --ignore-not-found=true; \
		KUBECONFIG=$(KUBECONFIG_P2) kubectl delete -f ../../p2/confs/app3-deployment.yaml --ignore-not-found=true; \
		echo "$(GREEN)‚úÖ Applications P2 supprim√©es$(NC)"; \
	else \
		echo "$(YELLOW)‚ö†Ô∏è  Cluster non accessible$(NC)"; \
	fi

# Statut des applications P2
status-p2:
	@echo "$(BLUE)üìä Statut des applications P2$(NC)"
	@if [ -f $(KUBECONFIG_P2) ]; then \
		echo "$(YELLOW)=== Pods P2 ===$(NC)"; \
		KUBECONFIG=$(KUBECONFIG_P2) kubectl get pods -l 'app in (app1,app2,app3)' -o wide 2>/dev/null || echo "$(RED)‚ùå Aucun pod P2$(NC)"; \
		echo ""; \
		echo "$(YELLOW)=== Services P2 ===$(NC)"; \
		KUBECONFIG=$(KUBECONFIG_P2) kubectl get services -l 'app in (app1,app2,app3)' 2>/dev/null || echo "$(RED)‚ùå Aucun service P2$(NC)"; \
		echo ""; \
		echo "$(YELLOW)=== Ingress P2 ===$(NC)"; \
		KUBECONFIG=$(KUBECONFIG_P2) kubectl get ingress 2>/dev/null || echo "$(RED)‚ùå Aucun ingress$(NC)"; \
	else \
		echo "$(RED)‚ùå Cluster non accessible$(NC)"; \
	fi

# Test des applications P2
test-p2:
	@echo "$(BLUE)üß™ Test des applications P2$(NC)"
	@echo "$(YELLOW)Ajout des entr√©es /etc/hosts si n√©cessaire...$(NC)"
	@if ! grep -q "$(HOST_IP) app1.com" /etc/hosts; then \
		echo "echo '$(HOST_IP) app1.com' | sudo tee -a /etc/hosts"; \
	fi
	@if ! grep -q "$(HOST_IP) app2.com" /etc/hosts; then \
		echo "echo '$(HOST_IP) app2.com' | sudo tee -a /etc/hosts"; \
	fi
	@echo ""
	@echo "$(BLUE)Test app1:$(NC)"
	@curl -s -w "HTTP %{http_code}\n" http://app1.com -o /dev/null || echo "‚ùå app1 non accessible"
	@echo "$(BLUE)Test app2:$(NC)"
	@curl -s -w "HTTP %{http_code}\n" http://app2.com -o /dev/null || echo "‚ùå app2 non accessible"
	@echo "$(BLUE)Test app3:$(NC)"
	@curl -s -w "HTTP %{http_code}\n" http://$(HOST_IP) -o /dev/null || echo "‚ùå app3 non accessible"

# Installer l'environnement P3 (K3d)
install-p3:
	@echo "$(GREEN)üöÄ Installation de l'environnement P3 (K3d + ArgoCD)$(NC)"
	@cd ../../p3 && chmod +x scripts/run.sh && ./scripts/run.sh install
	@echo "$(GREEN)‚úÖ Environnement P3 install√© !$(NC)"
	@echo "$(YELLOW)‚ö†Ô∏è  Reconnectez-vous √† votre session pour utiliser Docker$(NC)"

# Configurer ArgoCD
setup-p3:
	@echo "$(GREEN)üîß Configuration d'ArgoCD...$(NC)"
	@cd ../../p3 && ./scripts/run.sh setup
	@echo "$(GREEN)‚úÖ ArgoCD configur√© !$(NC)"

# D√©ployer l'application wil-playground
deploy-p3:
	@echo "$(GREEN)üì¶ D√©ploiement de l'application wil-playground...$(NC)"
	@cd ../../p3 && ./scripts/run.sh deploy
	@echo "$(GREEN)‚úÖ Application P3 d√©ploy√©e !$(NC)"

# Statut de P3
status-p3:
	@echo "$(BLUE)üìä Statut de la partie 3 (ArgoCD)$(NC)"
	@cd ../../p3 && ./scripts/run.sh status

# Lancer le port-forward pour ArgoCD
port-forward-p3:
	@echo "$(BLUE)üåê Lancement du port-forward ArgoCD...$(NC)"
	@if ! kubectl get namespace argocd >/dev/null 2>&1; then \
		echo "$(YELLOW)‚ö†Ô∏è  Namespace argocd introuvable. Lancez d'abord 'make setup-p3'.$(NC)"; \
		exit 1; \
	fi
	@echo "$(YELLOW)ArgoCD sera accessible sur: http://localhost:8080$(NC)"
	@echo "$(YELLOW)Mot de passe admin: $(NC)"
	@kubectl -n argocd get secret argocd-initial-admin-secret -o jsonpath="{.data.password}" 2>/dev/null | base64 -d && echo
	@echo ""
	@kubectl port-forward -n argocd pod/$$(kubectl get pods -n argocd -l app.kubernetes.io/name=argocd-server -o jsonpath='{.items[0].metadata.name}') 8080:8080

# Test de l'application P3
test-p3:
	@echo "$(BLUE)üß™ Test de l'application P3$(NC)"
	@cd ../../p3/scripts && chmod +x test-app.sh && ./test-app.sh test

# Nettoyage P3
clean-p3:
	@echo "$(YELLOW)üßπ Nettoyage de P3 (suppression du cluster K3d)$(NC)"
	@cd ../../p3 && ./scripts/run.sh clean
	@echo "$(GREEN)‚úÖ P3 nettoy√© !$(NC)"

# Nettoyage d'√©ventuelles VM VirtualBox r√©siduelles
clean-vbox:
	@if command -v $(VB_CMD) >/dev/null 2>&1; then \
		for vm in $(VM_MASTER_NAME) $(VM_WORKER_NAME); do \
			if $(VB_CMD) list vms | grep -q "\"$${vm}\""; then \
				echo "$(YELLOW)‚ö†Ô∏è  Suppression de la VM r√©siduelle $${vm}...$(NC)"; \
				$(VB_CMD) controlvm "$${vm}" poweroff 2>/dev/null || true; \
				$(VB_CMD) unregistervm "$${vm}" --delete >/dev/null 2>&1 || true; \
			fi; \
		done; \
	else \
		echo "$(YELLOW)‚ö†Ô∏è  VBoxManage non disponible, saut du nettoyage VirtualBox$(NC)"; \
	fi

dockerhub-secret:
	@if [ -z "$(DOCKERHUB_USERNAME)" ] || [ -z "$(DOCKERHUB_TOKEN)" ]; then \
		echo "$(YELLOW)‚ö†Ô∏è  Variables DOCKERHUB_USERNAME/DOCKERHUB_TOKEN absentes. Ajoutez-les dans $(ENV_FILE).$(NC)"; \
		exit 1; \
	fi
	@for ns in default dev; do \
		if KUBECONFIG=$(KUBECONFIG_P2) kubectl get namespace $$ns >/dev/null 2>&1; then \
			if ! KUBECONFIG=$(KUBECONFIG_P2) kubectl get secret dockerhub-cred -n $$ns >/dev/null 2>&1; then \
				echo "$(BLUE)üîê Cr√©ation du secret dockerhub-cred dans le namespace $$ns...$(NC)"; \
				KUBECONFIG=$(KUBECONFIG_P2) kubectl create secret docker-registry dockerhub-cred -n $$ns \
					--docker-server=https://index.docker.io/v1/ \
					--docker-username="$(DOCKERHUB_USERNAME)" \
					--docker-password="$(DOCKERHUB_TOKEN)" \
					--docker-email="$(DOCKERHUB_EMAIL)" >/dev/null; \
			else \
				echo "$(GREEN)‚úÖ Secret dockerhub-cred d√©j√† pr√©sent dans $$ns$(NC)"; \
			fi; \
			echo "$(BLUE)üîß Mise √† jour du serviceaccount default dans $$ns...$(NC)"; \
			KUBECONFIG=$(KUBECONFIG_P2) kubectl patch serviceaccount default -n $$ns --type merge \
				-p '{"imagePullSecrets":[{"name":"dockerhub-cred"}]}' >/dev/null 2>&1 || true; \
		else \
			echo "$(YELLOW)‚ö†Ô∏è  Namespace $$ns indisponible, secret non cr√©√©$(NC)"; \
		fi; \
	done

# D√©ploiement P3 complet (install + setup + deploy)
deploy-p3-full: install-p3 setup-p3 deploy-p3
	@echo "$(GREEN)üéâ P3 d√©ploy√© compl√®tement !$(NC)"
	@echo "$(BLUE)üåê ArgoCD: http://localhost:8080 | App: make test-p3$(NC)"

# Aide
help:
	@echo "$(BLUE)üìñ Inception of Things - Guide d'utilisation$(NC)"
	@echo ""
	@echo "$(GREEN)üèóÔ∏è  Commandes P1 (Cluster K3s) :$(NC)"
	@echo "  $(YELLOW)make install$(NC)      - Installer les d√©pendances"
	@echo "  $(YELLOW)make start-p1$(NC)     - D√©marrer P1 uniquement"
	@echo "  $(YELLOW)make stop-p1$(NC)      - Arr√™ter P1 uniquement"
	@echo "  $(YELLOW)make test-p1$(NC)      - Tester P1 uniquement"
	@echo "  $(YELLOW)make up$(NC)           - D√©marrer le cluster K3s"
	@echo "  $(YELLOW)make clean$(NC)        - Nettoyer tout (P1+P2+P3)"
	@echo "  $(YELLOW)make destroy$(NC)      - D√©truire les VMs uniquement"
	@echo ""
	@echo "$(GREEN)üì¶ Commandes P2 (Applications) :$(NC)"
	@echo "  $(YELLOW)make deploy-p2$(NC)    - D√©ployer les applications P2"
	@echo "  $(YELLOW)make clean-p2$(NC)     - Supprimer les applications P2"
	@echo "  $(YELLOW)make status-p2$(NC)    - Statut des applications P2"
	@echo "  $(YELLOW)make test-p2$(NC)      - Tester les applications P2"
	@echo ""
	@echo "$(GREEN)üöÄ Commandes P3 (ArgoCD) :$(NC)"
	@echo "  $(YELLOW)make install-p3$(NC)   - Installer l'environnement P3 (K3d)"
	@echo "  $(YELLOW)make setup-p3$(NC)     - Configurer ArgoCD"
	@echo "  $(YELLOW)make deploy-p3$(NC)    - D√©ployer l'application wil-playground"
	@echo "  $(YELLOW)make status-p3$(NC)    - Statut de P3"
	@echo "  $(YELLOW)make port-forward-p3$(NC) - Lancer le port-forward ArgoCD"
	@echo "  $(YELLOW)make test-p3$(NC)      - Tester l'application P3"
	@echo "  $(YELLOW)make clean-p3$(NC)     - Nettoyer P3 (supprimer le cluster K3d)"
	@echo ""
	@echo "$(GREEN)üöÄ Commandes principales :$(NC)"
	@echo "  $(YELLOW)make start-all$(NC)   - D√©marrer toutes les parties (P1+P2+P3) + test P3"
	@echo "  $(YELLOW)make stop-all$(NC)    - Arr√™ter et nettoyer tout"
	@echo "  $(YELLOW)make deploy-p3-full$(NC) - P3 complet uniquement"
	@echo ""
	@echo "$(GREEN)‚ÑπÔ∏è  Commandes d'information :$(NC)"
	@echo "  $(YELLOW)make status$(NC)       - Statut des VMs P1"
	@echo "  $(YELLOW)make cluster-info$(NC) - Informations cluster K3s"
	@echo "  $(YELLOW)make ssh-master$(NC)   - SSH vers le master"
	@echo "  $(YELLOW)make ssh-worker$(NC)   - SSH vers le worker"
	@echo ""
	@echo "$(BLUE)üéØ Workflows recommand√©s :$(NC)"
	@echo ""
	@echo "$(YELLOW)üåü P1 uniquement :$(NC)"
	@echo "  1. $(YELLOW)make install$(NC)     # Installation initiale"
	@echo "  2. $(YELLOW)make start-p1$(NC)    # D√©marrer et tester P1"
	@echo "  3. $(YELLOW)make stop-p1$(NC)     # Arr√™ter P1"
	@echo ""
	@echo "$(YELLOW)üåü D√©marrage rapide complet :$(NC)"
	@echo "  1. $(YELLOW)make install$(NC)     # Installation initiale"
	@echo "  2. $(YELLOW)make start-all$(NC)   # Tout d√©marrer + test P3"
	@echo "  3. $(YELLOW)make test-p2$(NC)     # Tester P2"
	@echo "     $(BLUE)‚Üí P3 d√©j√† test√© automatiquement$(NC)"
	@echo ""
	@echo "$(YELLOW)üõë Nettoyage :$(NC)"
	@echo "  ‚Ä¢ $(YELLOW)make stop-all$(NC)     # Tout arr√™ter et nettoyer"
	@echo "  ‚Ä¢ $(YELLOW)make stop-p1$(NC)      # Arr√™ter P1 uniquement"
	@echo "  ‚Ä¢ $(YELLOW)make clean-p2$(NC)     # Nettoyer P2 uniquement"
	@echo "  ‚Ä¢ $(YELLOW)make clean-p3$(NC)     # Nettoyer P3 uniquement"
	@echo ""
	@echo "$(GREEN)üåê Applications d√©ploy√©es :$(NC)"
	@echo "  ‚Ä¢ P1: Cluster K3s avec 2 n≈ìuds"
	@echo "  ‚Ä¢ P2: http://app1.com, http://app2.com, http://$(HOST_IP)"
	@echo "  ‚Ä¢ P3: ArgoCD http://localhost:8080, wil-playground http://localhost:8889"
